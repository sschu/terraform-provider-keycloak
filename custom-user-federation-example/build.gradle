buildscript {
	ext.kotlinVersion = '2.0.20'
	ext.keycloakVersion = '19.0.2'
	ext.shadowJarVersion = '8.3.0'

    repositories {
        mavenCentral()
		gradlePluginPortal()
    }

    dependencies {
        classpath "org.jetbrains.kotlin:kotlin-gradle-plugin:${kotlinVersion}"
		classpath "com.gradleup.shadow:shadow-gradle-plugin:${shadowJarVersion}"
    }
}

apply {
    plugin 'java'
    plugin 'kotlin'
    plugin 'com.gradleup.shadow'
}

dependencies {
	implementation "org.keycloak:keycloak-core:${keycloakVersion}"
	implementation "org.keycloak:keycloak-services:${keycloakVersion}"
	implementation "org.keycloak:keycloak-server-spi:${keycloakVersion}"
	implementation "org.keycloak:keycloak-server-spi-private:${keycloakVersion}"
	implementation "org.keycloak:keycloak-model-legacy:${keycloakVersion}"
}

repositories {
    mavenCentral()
}
kotlin {
	jvmToolchain(17)
}
compileKotlin {
    kotlinOptions {
        jvmTarget = "17"
    }
}

compileTestKotlin {
    kotlinOptions {
        jvmTarget = "17"
    }
}
